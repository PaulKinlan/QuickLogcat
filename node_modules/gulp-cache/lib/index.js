'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var _asyncToGenerator = _interopDefault(require('@babel/runtime/helpers/asyncToGenerator'));
var _objectSpread = _interopDefault(require('@babel/runtime/helpers/objectSpread'));
var PluginError = _interopDefault(require('plugin-error'));
var through = _interopDefault(require('through2'));
var Cache = _interopDefault(require('cache-swap'));
var File = _interopDefault(require('vinyl'));
var pick = _interopDefault(require('object.pick'));
var EventEmitter = _interopDefault(require('events'));
var crypto = _interopDefault(require('crypto'));

const version = "1.1.0";

const whitespaces = 2;
const eventListenersCount = 3;

function makeHash(key) {
  return crypto.createHash('md5').update(key).digest('hex');
}

class TaskProxy {
  constructor(task, inputOptions) {
    this.task = task;
    this.options = inputOptions;
    this._cacheQueue = new Map();
    this._removeListeners = [];

    if (task) {
      this.patchTask();
    }
  }

  patchTask() {
    const {
      task
    } = this;
    const {
      _transform
    } = task;

    task._transform = (chunk, encoding, next) => {
      Reflect.apply(_transform, task, [chunk, encoding, (...args) => {
        next(...args); // eslint-disable-line

        task.emit('gulp-cache:transformed');
      }]);
    };
  }

  processFile(inputFile, signals = new EventEmitter()) {
    process.nextTick(() => {
      this._processFileAsync(inputFile, signals);
    });
    return signals;
  }

  _processFileAsync(inputFile, signals = new EventEmitter()) {
    var _this = this;

    return _asyncToGenerator(function* () {
      const cached = yield _this._checkForCachedValue(inputFile); // If we found a cached value
      // The path of the cache key should also be identical to the original one when the file path changed inside the task

      const cachedValue = cached.value;
      const cachedValueIsEmpty = !Array.isArray(cachedValue) || !cachedValue.length;
      const cachedValuesWithNormalPaths = cachedValueIsEmpty ? [] : cachedValue.filter(file => (!file.gulpCache$filePathChangedInsideTask || file.gulpCache$originalPath === inputFile.path) && (!file.gulpCache$fileBaseChangedInsideTask || file.gulpCache$originalBase === inputFile.base));

      if (cachedValuesWithNormalPaths.length) {
        cachedValuesWithNormalPaths.forEach(cachedFile => {
          // Extend the cached value onto the file, but don't overwrite original path info
          const file = new File(_objectSpread({}, cachedFile, pick(inputFile, ['cwd', 'base', 'stat', 'history', 'path']), {
            // file contents
            contents: cachedFile.contents
          })); // Restore the file path if it was set

          if (cachedFile.path && cachedFile.gulpCache$filePathChangedInsideTask) {
            file.path = cachedFile.path;
          } // Restore the file base if it was set


          if (cachedFile.base && cachedFile.gulpCache$fileBaseChangedInsideTask) {
            file.base = cachedFile.base;
          }

          Reflect.deleteProperty(file, 'gulpCache$filePathChangedInsideTask');
          Reflect.deleteProperty(file, 'gulpCache$fileBaseChangedInsideTask');
          Reflect.deleteProperty(file, 'gulpCache$originalPath');
          Reflect.deleteProperty(file, 'gulpCache$originalBase');
          signals.emit('file', file);
        });
        signals.emit('done');

        _this._removeListeners.push(() => {
          // Remove all listeners from `signals`
          signals.removeAllListeners();
        });

        return;
      }

      _this._runProxiedTaskAndQueueCache(inputFile, cached.key, signals);
    })();
  }

  flush(next) {
    var _this2 = this;

    return _asyncToGenerator(function* () {
      const {
        task
      } = _this2;

      try {
        if (typeof task._flush == 'function') {
          task._flush(
          /*#__PURE__*/
          function () {
            var _ref = _asyncToGenerator(function* (...args) {
              yield _this2._flush();
              next(...args);
            });

            return function () {
              return _ref.apply(this, arguments);
            };
          }());
        } else {
          yield _this2._flush();
          next();
          return;
        }
      } catch (err) {
        next(err);
        return;
      }
    })();
  }

  _flush() {
    var _this3 = this;

    return _asyncToGenerator(function* () {
      _this3._removeListeners.forEach(remove => {
        remove();
      });

      _this3._removeListeners = [];
      yield Promise.all(Array.from(_this3._cacheQueue).map(
      /*#__PURE__*/
      function () {
        var _ref2 = _asyncToGenerator(function* ([cachedKey, files]) {
          return _this3._storeCachedResult(cachedKey, files);
        });

        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }()));
      _this3._cacheQueue = new Map();
    })();
  }

  removeCachedResult(file) {
    var _this4 = this;

    return _asyncToGenerator(function* () {
      const cachedKey = yield _this4._getFileKey(file);
      return _this4._removeCached(_this4.options.name, cachedKey);
    })();
  }

  _getFileKey(file) {
    var _this5 = this;

    return _asyncToGenerator(function* () {
      const {
        key: getKey
      } = _this5.options;
      const key = yield getKey(file);
      return key ? makeHash(key) : key;
    })();
  }

  _checkForCachedValue(file) {
    var _this6 = this;

    return _asyncToGenerator(function* () {
      const key = yield _this6._getFileKey(file); // If no key returned, bug out early

      if (!key) {
        return {
          value: null,
          key
        };
      }

      const {
        name: cacheName,
        restore
      } = _this6.options;
      const cached = yield _this6._getCached(cacheName, key);

      if (!cached) {
        return {
          value: null,
          key
        };
      }

      let parsedContents = null;

      try {
        parsedContents = JSON.parse(cached.contents);
      } catch (err) {
        parsedContents = [{
          cached: cached.contents
        }];
      }

      if (restore) {
        parsedContents = parsedContents.map(parsedFile => {
          const restoredFile = restore(parsedFile); // Force restore service properties

          restoredFile.gulpCache$filePathChangedInsideTask = parsedFile.gulpCache$filePathChangedInsideTask;
          restoredFile.gulpCache$fileBaseChangedInsideTask = parsedFile.gulpCache$fileBaseChangedInsideTask;
          restoredFile.gulpCache$originalPath = parsedFile.gulpCache$originalPath;
          restoredFile.gulpCache$originalBase = parsedFile.gulpCache$originalBase;
          return restoredFile;
        });
      }

      return {
        value: parsedContents,
        key
      };
    })();
  }

  _getValueFromResult(result) {
    var _this7 = this;

    return _asyncToGenerator(function* () {
      const {
        value: getValue
      } = _this7.options;

      if (typeof getValue !== 'function') {
        if (typeof getValue === 'string') {
          return {
            [getValue]: result[getValue]
          };
        }

        return getValue;
      }

      return getValue(result);
    })();
  }

  _storeCachedResult(key, result) {
    var _this8 = this;

    return _asyncToGenerator(function* () {
      // If we didn't have a cachedKey, skip caching result
      if (!key) {
        return result;
      }

      const {
        options
      } = _this8;
      const files = (yield Promise.all(result.map(
      /*#__PURE__*/
      function () {
        var _ref3 = _asyncToGenerator(function* ({
          file,
          meta
        }) {
          if (options.success !== true && !(yield options.success(file))) {
            return null;
          }

          return Object.assign((yield _this8._getValueFromResult(file)), meta);
        });

        return function (_x2) {
          return _ref3.apply(this, arguments);
        };
      }()))).filter(Boolean);
      return _this8._addCached(_this8.options.name, key, JSON.stringify(files, null, whitespaces));
    })();
  }

  _queueCache(file, cachedKey, originalBase, originalPath) {
    var _this9 = this;

    return _asyncToGenerator(function* () {
      const {
        _cacheQueue
      } = _this9;
      const item = {
        file: file.clone({
          contents: false
        }),
        meta: {
          // Check if the task changed the file path
          gulpCache$filePathChangedInsideTask: file.path !== originalPath,
          // Check if the task changed the base path
          gulpCache$fileBaseChangedInsideTask: file.base !== originalBase,
          // Keep track of the original path
          gulpCache$originalPath: originalPath,
          // Keep track of the original base
          gulpCache$originalBase: originalBase
        }
      };

      if (_cacheQueue.has(cachedKey)) {
        _cacheQueue.get(cachedKey).push(item);
      } else {
        _cacheQueue.set(cachedKey, [item]);
      }
    })();
  }

  _runProxiedTaskAndQueueCache(file, cachedKey, signals = new EventEmitter()) {
    const originalBase = file.base;
    const originalPath = file.path;
    signals.on('cache', file => {
      this._queueCache(file, cachedKey, originalBase, originalPath);

      signals.emit('file', file);
    });
    return this._runProxiedTask(file, cachedKey, signals);
  }

  _runProxiedTask(file, cachedKey, signals = new EventEmitter()) {
    const {
      task
    } = this;
    const hasCacheListener = Boolean(signals.listenerCount('cache'));

    function onError(err) {
      signals.emit('error', err);
    }

    function onData(datum) {
      if (datum._cachedKey !== cachedKey) {
        return;
      }

      Reflect.deleteProperty(datum, '_cachedKey');

      if (hasCacheListener) {
        signals.emit('cache', datum);
      } else {
        signals.emit('file', datum);
      }
    }

    function onTransformed() {
      signals.emit('done');
    }

    this._removeListeners.push(() => {
      // Be good citizens and remove our listeners
      task.removeListener('error', onError);
      task.removeListener('gulp-cache:transformed', onTransformed);
      task.removeListener('data', onData); // Reduce the maxListeners back down

      task.setMaxListeners(task._maxListeners - eventListenersCount); // Remove all listeners from `signals`

      signals.removeAllListeners();
    }); // Bump up max listeners to prevent memory leak warnings


    const currMaxListeners = task._maxListeners || 0;
    task.setMaxListeners(currMaxListeners + eventListenersCount);
    task.on('data', onData);
    task.once('gulp-cache:transformed', onTransformed);
    task.once('error', onError);
    file._cachedKey = cachedKey; // Run through the other task and grab output (or error)

    task.write(file);
    return signals;
  }
  /**
   * Cache promise wrappers.
   */


  _addCached(...args) {
    return new Promise((resolve, reject) => {
      this.options.fileCache.addCached(...args, (err, res) => {
        if (err) {
          reject(err);
          return;
        }

        resolve(res);
      });
    });
  }

  _getCached(...args) {
    return new Promise((resolve, reject) => {
      this.options.fileCache.getCached(...args, (err, res) => {
        if (err) {
          reject(err);
          return;
        }

        resolve(res);
      });
    });
  }

  _removeCached(...args) {
    return new Promise((resolve, reject) => {
      this.options.fileCache.removeCached(...args, err => {
        if (err) {
          reject(err);
          return;
        }

        resolve();
      });
    });
  }

}

const fileCache = new Cache({
  cacheDirName: 'gulp-cache'
});

function defaultKey(file) {
  return `${version}${file.contents.toString('base64')}`;
}

function defaultRestore(restored) {
  if (restored.contents) {
    // Handle node 0.11 buffer to JSON as object with { type: 'buffer', data: [...] }
    if (restored && restored.contents && Array.isArray(restored.contents.data)) {
      restored.contents = new Buffer(restored.contents.data);
    } else if (Array.isArray(restored.contents)) {
      restored.contents = new Buffer(restored.contents);
    } else if (typeof restored.contents === 'string') {
      restored.contents = new Buffer(restored.contents, 'base64');
    }
  }

  const restoredFile = new File(restored); // Restore any properties that the original task put on the file;
  // but omit the normal properties of the file

  Object.keys(restored).forEach(key => {
    if (File.isCustomProp(key)) {
      restoredFile[key] = restored[key];
    }
  });
  return restoredFile;
}

function defaultValue(file) {
  const vinylProps = ['cwd', 'base', 'contents', 'stat', 'history', 'path'];
  const customProps = Object.keys(file).filter(File.isCustomProp); // Convert from a File object (from vinyl) into a plain object

  return pick(file, [...vinylProps, ...customProps]);
}

const defaultOptions = {
  fileCache,
  name: 'default',
  success: true,
  key: defaultKey,
  restore: defaultRestore,
  value: defaultValue
};
plugin.Cache = Cache;
plugin.fileCache = fileCache;
plugin.defaultOptions = defaultOptions;
function plugin(task, inputOptions) {
  // Check for required task option
  if (!task) {
    throw new PluginError('gulp-cache', 'Must pass a task to cache()');
  }

  const options = _objectSpread({}, plugin.defaultOptions, task.cacheable, inputOptions);

  const taskProxy = new TaskProxy(task, options);

  function each(file, enc, next) {
    if (file.isNull()) {
      next(null, file);
      return;
    }

    if (file.isStream()) {
      next(new PluginError('gulp-cache', 'Cannot operate on stream sources'));
      return;
    }

    const signals = taskProxy.processFile(file);
    signals.on('error', err => {
      next(new PluginError('gulp-cache', err));
    });
    signals.on('file', file => {
      this.push(file);
    });
    signals.on('done', () => {
      next(null);
    });
  }

  function flush(next) {
    taskProxy.flush(next);
  }

  return through.obj(each, flush);
}

plugin.clear = function clear(inputOptions) {
  const options = _objectSpread({}, plugin.defaultOptions, inputOptions);

  const taskProxy = new TaskProxy(null, options);

  function each(_x, _x2, _x3) {
    return _each.apply(this, arguments);
  }

  function _each() {
    _each = _asyncToGenerator(function* (file, enc, next) {
      if (file.isNull()) {
        next(null, file);
        return;
      }

      if (file.isStream()) {
        next(new PluginError('gulp-cache', 'Cannot operate on stream sources'));
        return;
      }

      try {
        yield taskProxy.removeCachedResult(file);
        next(null, file);
        return;
      } catch (err) {
        next(new PluginError('gulp-cache', err));
        return;
      }
    });
    return _each.apply(this, arguments);
  }

  return through.obj(each);
};

plugin.clearAll = function clearAll() {
  return new Promise((resolve, reject) => {
    fileCache.clear(null, err => {
      if (err) {
        reject(new PluginError('gulp-cache', `Problem clearing the cache: ${err.message}`));
        return;
      }

      resolve();
    });
  });
};

module.exports = plugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy90YXNrLXByb3h5LmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBGaWxlIGZyb20gJ3ZpbnlsJztcbmltcG9ydCBwaWNrIGZyb20gJ29iamVjdC5waWNrJztcblxuY29uc3Qgd2hpdGVzcGFjZXMgPSAyO1xuY29uc3QgZXZlbnRMaXN0ZW5lcnNDb3VudCA9IDM7XG5cbmZ1bmN0aW9uIG1ha2VIYXNoKGtleSkge1xuXHRyZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShrZXkpLmRpZ2VzdCgnaGV4Jyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tQcm94eSB7XG5cblx0Y29uc3RydWN0b3IodGFzaywgaW5wdXRPcHRpb25zKSB7XG5cblx0XHR0aGlzLnRhc2sgPSB0YXNrO1xuXHRcdHRoaXMub3B0aW9ucyA9IGlucHV0T3B0aW9ucztcblx0XHR0aGlzLl9jYWNoZVF1ZXVlID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMuX3JlbW92ZUxpc3RlbmVycyA9IFtdO1xuXG5cdFx0aWYgKHRhc2spIHtcblx0XHRcdHRoaXMucGF0Y2hUYXNrKCk7XG5cdFx0fVxuXHR9XG5cblx0cGF0Y2hUYXNrKCkge1xuXG5cdFx0Y29uc3QgeyB0YXNrIH0gPSB0aGlzO1xuXHRcdGNvbnN0IHsgX3RyYW5zZm9ybSB9ID0gdGFzaztcblxuXHRcdHRhc2suX3RyYW5zZm9ybSA9IChjaHVuaywgZW5jb2RpbmcsIG5leHQpID0+IHtcblxuXHRcdFx0UmVmbGVjdC5hcHBseShfdHJhbnNmb3JtLCB0YXNrLCBbY2h1bmssIGVuY29kaW5nLCAoLi4uYXJncykgPT4ge1xuXHRcdFx0XHRuZXh0KC4uLmFyZ3MpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0XHRcdHRhc2suZW1pdCgnZ3VscC1jYWNoZTp0cmFuc2Zvcm1lZCcpO1xuXHRcdFx0fV0pO1xuXHRcdH07XG5cdH1cblxuXHRwcm9jZXNzRmlsZShpbnB1dEZpbGUsIHNpZ25hbHMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpIHtcblxuXHRcdHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fcHJvY2Vzc0ZpbGVBc3luYyhpbnB1dEZpbGUsIHNpZ25hbHMpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHNpZ25hbHM7XG5cdH1cblxuXHRhc3luYyBfcHJvY2Vzc0ZpbGVBc3luYyhpbnB1dEZpbGUsIHNpZ25hbHMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpIHtcblxuXHRcdGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuX2NoZWNrRm9yQ2FjaGVkVmFsdWUoaW5wdXRGaWxlKTtcblx0XHQvLyBJZiB3ZSBmb3VuZCBhIGNhY2hlZCB2YWx1ZVxuXHRcdC8vIFRoZSBwYXRoIG9mIHRoZSBjYWNoZSBrZXkgc2hvdWxkIGFsc28gYmUgaWRlbnRpY2FsIHRvIHRoZSBvcmlnaW5hbCBvbmUgd2hlbiB0aGUgZmlsZSBwYXRoIGNoYW5nZWQgaW5zaWRlIHRoZSB0YXNrXG5cdFx0Y29uc3QgY2FjaGVkVmFsdWUgPSBjYWNoZWQudmFsdWU7XG5cdFx0Y29uc3QgY2FjaGVkVmFsdWVJc0VtcHR5ID0gIUFycmF5LmlzQXJyYXkoY2FjaGVkVmFsdWUpIHx8ICFjYWNoZWRWYWx1ZS5sZW5ndGg7XG5cdFx0Y29uc3QgY2FjaGVkVmFsdWVzV2l0aE5vcm1hbFBhdGhzID0gY2FjaGVkVmFsdWVJc0VtcHR5ID8gW10gOiBjYWNoZWRWYWx1ZS5maWx0ZXIoXG5cdFx0XHRmaWxlID0+XG5cdFx0XHRcdCghZmlsZS5ndWxwQ2FjaGUkZmlsZVBhdGhDaGFuZ2VkSW5zaWRlVGFzayB8fCBmaWxlLmd1bHBDYWNoZSRvcmlnaW5hbFBhdGggPT09IGlucHV0RmlsZS5wYXRoKVxuXHRcdFx0XHQmJiAoIWZpbGUuZ3VscENhY2hlJGZpbGVCYXNlQ2hhbmdlZEluc2lkZVRhc2sgfHwgZmlsZS5ndWxwQ2FjaGUkb3JpZ2luYWxCYXNlID09PSBpbnB1dEZpbGUuYmFzZSlcblx0XHQpO1xuXG5cdFx0aWYgKGNhY2hlZFZhbHVlc1dpdGhOb3JtYWxQYXRocy5sZW5ndGgpIHtcblxuXHRcdFx0Y2FjaGVkVmFsdWVzV2l0aE5vcm1hbFBhdGhzLmZvckVhY2goKGNhY2hlZEZpbGUpID0+IHtcblx0XHRcdFx0Ly8gRXh0ZW5kIHRoZSBjYWNoZWQgdmFsdWUgb250byB0aGUgZmlsZSwgYnV0IGRvbid0IG92ZXJ3cml0ZSBvcmlnaW5hbCBwYXRoIGluZm9cblx0XHRcdFx0Y29uc3QgZmlsZSA9IG5ldyBGaWxlKHtcblx0XHRcdFx0XHQvLyBjdXN0b20gcHJvcGVydGllc1xuXHRcdFx0XHRcdC4uLmNhY2hlZEZpbGUsXG5cdFx0XHRcdFx0Ly8gZmlsZSBpbmZvXG5cdFx0XHRcdFx0Li4ucGljayhpbnB1dEZpbGUsIFsnY3dkJywgJ2Jhc2UnLCAnc3RhdCcsICdoaXN0b3J5JywgJ3BhdGgnXSksXG5cdFx0XHRcdFx0Ly8gZmlsZSBjb250ZW50c1xuXHRcdFx0XHRcdGNvbnRlbnRzOiBjYWNoZWRGaWxlLmNvbnRlbnRzXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIGZpbGUgcGF0aCBpZiBpdCB3YXMgc2V0XG5cdFx0XHRcdGlmIChjYWNoZWRGaWxlLnBhdGggJiYgY2FjaGVkRmlsZS5ndWxwQ2FjaGUkZmlsZVBhdGhDaGFuZ2VkSW5zaWRlVGFzaykge1xuXHRcdFx0XHRcdGZpbGUucGF0aCA9IGNhY2hlZEZpbGUucGF0aDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIGZpbGUgYmFzZSBpZiBpdCB3YXMgc2V0XG5cdFx0XHRcdGlmIChjYWNoZWRGaWxlLmJhc2UgJiYgY2FjaGVkRmlsZS5ndWxwQ2FjaGUkZmlsZUJhc2VDaGFuZ2VkSW5zaWRlVGFzaykge1xuXHRcdFx0XHRcdGZpbGUuYmFzZSA9IGNhY2hlZEZpbGUuYmFzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZmlsZSwgJ2d1bHBDYWNoZSRmaWxlUGF0aENoYW5nZWRJbnNpZGVUYXNrJyk7XG5cdFx0XHRcdFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZmlsZSwgJ2d1bHBDYWNoZSRmaWxlQmFzZUNoYW5nZWRJbnNpZGVUYXNrJyk7XG5cdFx0XHRcdFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZmlsZSwgJ2d1bHBDYWNoZSRvcmlnaW5hbFBhdGgnKTtcblx0XHRcdFx0UmVmbGVjdC5kZWxldGVQcm9wZXJ0eShmaWxlLCAnZ3VscENhY2hlJG9yaWdpbmFsQmFzZScpO1xuXG5cdFx0XHRcdHNpZ25hbHMuZW1pdCgnZmlsZScsIGZpbGUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHNpZ25hbHMuZW1pdCgnZG9uZScpO1xuXG5cdFx0XHR0aGlzLl9yZW1vdmVMaXN0ZW5lcnMucHVzaCgoKSA9PiB7XG5cdFx0XHRcdC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gYHNpZ25hbHNgXG5cdFx0XHRcdHNpZ25hbHMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3J1blByb3hpZWRUYXNrQW5kUXVldWVDYWNoZShpbnB1dEZpbGUsIGNhY2hlZC5rZXksIHNpZ25hbHMpO1xuXHR9XG5cblx0YXN5bmMgZmx1c2gobmV4dCkge1xuXG5cdFx0Y29uc3QgeyB0YXNrIH0gPSB0aGlzO1xuXG5cdFx0dHJ5IHtcblxuXHRcdFx0aWYgKHR5cGVvZiB0YXNrLl9mbHVzaCA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRhc2suX2ZsdXNoKGFzeW5jICguLi5hcmdzKSA9PiB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5fZmx1c2goKTtcblx0XHRcdFx0XHRuZXh0KC4uLmFyZ3MpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuX2ZsdXNoKCk7XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRuZXh0KGVycik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgX2ZsdXNoKCkge1xuXG5cdFx0dGhpcy5fcmVtb3ZlTGlzdGVuZXJzLmZvckVhY2goKHJlbW92ZSkgPT4ge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSBbXTtcblxuXHRcdGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdFx0QXJyYXkuZnJvbSh0aGlzLl9jYWNoZVF1ZXVlKS5tYXAoXG5cdFx0XHRcdGFzeW5jIChbY2FjaGVkS2V5LCBmaWxlc10pID0+XG5cdFx0XHRcdFx0dGhpcy5fc3RvcmVDYWNoZWRSZXN1bHQoY2FjaGVkS2V5LCBmaWxlcylcblx0XHRcdClcblx0XHQpO1xuXG5cdFx0dGhpcy5fY2FjaGVRdWV1ZSA9IG5ldyBNYXAoKTtcblx0fVxuXG5cdGFzeW5jIHJlbW92ZUNhY2hlZFJlc3VsdChmaWxlKSB7XG5cblx0XHRjb25zdCBjYWNoZWRLZXkgPSBhd2FpdCB0aGlzLl9nZXRGaWxlS2V5KGZpbGUpO1xuXG5cdFx0cmV0dXJuIHRoaXMuX3JlbW92ZUNhY2hlZChcblx0XHRcdHRoaXMub3B0aW9ucy5uYW1lLFxuXHRcdFx0Y2FjaGVkS2V5XG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIF9nZXRGaWxlS2V5KGZpbGUpIHtcblxuXHRcdGNvbnN0IHsga2V5OiBnZXRLZXkgfSA9IHRoaXMub3B0aW9ucztcblx0XHRjb25zdCBrZXkgPSBhd2FpdCBnZXRLZXkoZmlsZSk7XG5cblx0XHRyZXR1cm4ga2V5ID8gbWFrZUhhc2goa2V5KSA6IGtleTtcblx0fVxuXG5cdGFzeW5jIF9jaGVja0ZvckNhY2hlZFZhbHVlKGZpbGUpIHtcblxuXHRcdGNvbnN0IGtleSA9IGF3YWl0IHRoaXMuX2dldEZpbGVLZXkoZmlsZSk7XG5cblx0XHQvLyBJZiBubyBrZXkgcmV0dXJuZWQsIGJ1ZyBvdXQgZWFybHlcblx0XHRpZiAoIWtleSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dmFsdWU6IG51bGwsXG5cdFx0XHRcdGtleVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB7IG5hbWU6IGNhY2hlTmFtZSwgcmVzdG9yZSB9ID0gdGhpcy5vcHRpb25zO1xuXHRcdGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuX2dldENhY2hlZChjYWNoZU5hbWUsIGtleSk7XG5cblx0XHRpZiAoIWNhY2hlZCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dmFsdWU6IG51bGwsXG5cdFx0XHRcdGtleVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRsZXQgcGFyc2VkQ29udGVudHMgPSBudWxsO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHBhcnNlZENvbnRlbnRzID0gSlNPTi5wYXJzZShjYWNoZWQuY29udGVudHMpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cGFyc2VkQ29udGVudHMgPSBbeyBjYWNoZWQ6IGNhY2hlZC5jb250ZW50cyB9XTtcblx0XHR9XG5cblx0XHRpZiAocmVzdG9yZSkge1xuXHRcdFx0cGFyc2VkQ29udGVudHMgPSBwYXJzZWRDb250ZW50cy5tYXAoXG5cdFx0XHRcdChwYXJzZWRGaWxlKSA9PiB7XG5cblx0XHRcdFx0XHRjb25zdCByZXN0b3JlZEZpbGUgPSByZXN0b3JlKHBhcnNlZEZpbGUpO1xuXG5cdFx0XHRcdFx0Ly8gRm9yY2UgcmVzdG9yZSBzZXJ2aWNlIHByb3BlcnRpZXNcblx0XHRcdFx0XHRyZXN0b3JlZEZpbGUuZ3VscENhY2hlJGZpbGVQYXRoQ2hhbmdlZEluc2lkZVRhc2sgPSBwYXJzZWRGaWxlLmd1bHBDYWNoZSRmaWxlUGF0aENoYW5nZWRJbnNpZGVUYXNrO1xuXHRcdFx0XHRcdHJlc3RvcmVkRmlsZS5ndWxwQ2FjaGUkZmlsZUJhc2VDaGFuZ2VkSW5zaWRlVGFzayA9IHBhcnNlZEZpbGUuZ3VscENhY2hlJGZpbGVCYXNlQ2hhbmdlZEluc2lkZVRhc2s7XG5cdFx0XHRcdFx0cmVzdG9yZWRGaWxlLmd1bHBDYWNoZSRvcmlnaW5hbFBhdGggPSBwYXJzZWRGaWxlLmd1bHBDYWNoZSRvcmlnaW5hbFBhdGg7XG5cdFx0XHRcdFx0cmVzdG9yZWRGaWxlLmd1bHBDYWNoZSRvcmlnaW5hbEJhc2UgPSBwYXJzZWRGaWxlLmd1bHBDYWNoZSRvcmlnaW5hbEJhc2U7XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzdG9yZWRGaWxlO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZTogcGFyc2VkQ29udGVudHMsXG5cdFx0XHRrZXlcblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgX2dldFZhbHVlRnJvbVJlc3VsdChyZXN1bHQpIHtcblxuXHRcdGNvbnN0IHsgdmFsdWU6IGdldFZhbHVlIH0gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAodHlwZW9mIGdldFZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG5cblx0XHRcdGlmICh0eXBlb2YgZ2V0VmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0W2dldFZhbHVlXTogcmVzdWx0W2dldFZhbHVlXVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZ2V0VmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdldFZhbHVlKHJlc3VsdCk7XG5cdH1cblxuXHRhc3luYyBfc3RvcmVDYWNoZWRSZXN1bHQoa2V5LCByZXN1bHQpIHtcblxuXHRcdC8vIElmIHdlIGRpZG4ndCBoYXZlIGEgY2FjaGVkS2V5LCBza2lwIGNhY2hpbmcgcmVzdWx0XG5cdFx0aWYgKCFrZXkpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuXHRcdGNvbnN0IGZpbGVzID0gKGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdC5tYXAoXG5cdFx0XHRhc3luYyAoeyBmaWxlLCBtZXRhIH0pID0+IHtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5zdWNjZXNzICE9PSB0cnVlICYmICEoYXdhaXQgb3B0aW9ucy5zdWNjZXNzKGZpbGUpKSkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5fZ2V0VmFsdWVGcm9tUmVzdWx0KGZpbGUpLFxuXHRcdFx0XHRcdG1ldGFcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHQpKSkuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0cmV0dXJuIHRoaXMuX2FkZENhY2hlZChcblx0XHRcdHRoaXMub3B0aW9ucy5uYW1lLFxuXHRcdFx0a2V5LFxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoZmlsZXMsIG51bGwsIHdoaXRlc3BhY2VzKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBfcXVldWVDYWNoZShmaWxlLCBjYWNoZWRLZXksIG9yaWdpbmFsQmFzZSwgb3JpZ2luYWxQYXRoKSB7XG5cblx0XHRjb25zdCB7IF9jYWNoZVF1ZXVlIH0gPSB0aGlzO1xuXHRcdGNvbnN0IGl0ZW0gPSB7XG5cdFx0XHRmaWxlOiBmaWxlLmNsb25lKHsgY29udGVudHM6IGZhbHNlIH0pLFxuXHRcdFx0bWV0YToge1xuXHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgdGFzayBjaGFuZ2VkIHRoZSBmaWxlIHBhdGhcblx0XHRcdFx0Z3VscENhY2hlJGZpbGVQYXRoQ2hhbmdlZEluc2lkZVRhc2s6IGZpbGUucGF0aCAhPT0gb3JpZ2luYWxQYXRoLFxuXHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgdGFzayBjaGFuZ2VkIHRoZSBiYXNlIHBhdGhcblx0XHRcdFx0Z3VscENhY2hlJGZpbGVCYXNlQ2hhbmdlZEluc2lkZVRhc2s6IGZpbGUuYmFzZSAhPT0gb3JpZ2luYWxCYXNlLFxuXHRcdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHRoZSBvcmlnaW5hbCBwYXRoXG5cdFx0XHRcdGd1bHBDYWNoZSRvcmlnaW5hbFBhdGg6ICAgICAgICAgICAgICBvcmlnaW5hbFBhdGgsXG5cdFx0XHRcdC8vIEtlZXAgdHJhY2sgb2YgdGhlIG9yaWdpbmFsIGJhc2Vcblx0XHRcdFx0Z3VscENhY2hlJG9yaWdpbmFsQmFzZTogICAgICAgICAgICAgIG9yaWdpbmFsQmFzZVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAoX2NhY2hlUXVldWUuaGFzKGNhY2hlZEtleSkpIHtcblx0XHRcdF9jYWNoZVF1ZXVlLmdldChjYWNoZWRLZXkpLnB1c2goaXRlbSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdF9jYWNoZVF1ZXVlLnNldChjYWNoZWRLZXksIFtpdGVtXSk7XG5cdFx0fVxuXHR9XG5cblx0X3J1blByb3hpZWRUYXNrQW5kUXVldWVDYWNoZShmaWxlLCBjYWNoZWRLZXksIHNpZ25hbHMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpIHtcblxuXHRcdGNvbnN0IG9yaWdpbmFsQmFzZSA9IGZpbGUuYmFzZTtcblx0XHRjb25zdCBvcmlnaW5hbFBhdGggPSBmaWxlLnBhdGg7XG5cblx0XHRzaWduYWxzLm9uKCdjYWNoZScsIChmaWxlKSA9PiB7XG5cdFx0XHR0aGlzLl9xdWV1ZUNhY2hlKGZpbGUsIGNhY2hlZEtleSwgb3JpZ2luYWxCYXNlLCBvcmlnaW5hbFBhdGgpO1xuXHRcdFx0c2lnbmFscy5lbWl0KCdmaWxlJywgZmlsZSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5fcnVuUHJveGllZFRhc2soZmlsZSwgY2FjaGVkS2V5LCBzaWduYWxzKTtcblx0fVxuXG5cdF9ydW5Qcm94aWVkVGFzayhmaWxlLCBjYWNoZWRLZXksIHNpZ25hbHMgPSBuZXcgRXZlbnRFbWl0dGVyKCkpIHtcblxuXHRcdGNvbnN0IHsgdGFzayB9ID0gdGhpcztcblx0XHRjb25zdCBoYXNDYWNoZUxpc3RlbmVyID0gQm9vbGVhbihzaWduYWxzLmxpc3RlbmVyQ291bnQoJ2NhY2hlJykpO1xuXG5cdFx0ZnVuY3Rpb24gb25FcnJvcihlcnIpIHtcblx0XHRcdHNpZ25hbHMuZW1pdCgnZXJyb3InLCBlcnIpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uRGF0YShkYXR1bSkge1xuXG5cdFx0XHRpZiAoZGF0dW0uX2NhY2hlZEtleSAhPT0gY2FjaGVkS2V5KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0UmVmbGVjdC5kZWxldGVQcm9wZXJ0eShkYXR1bSwgJ19jYWNoZWRLZXknKTtcblxuXHRcdFx0aWYgKGhhc0NhY2hlTGlzdGVuZXIpIHtcblx0XHRcdFx0c2lnbmFscy5lbWl0KCdjYWNoZScsIGRhdHVtKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNpZ25hbHMuZW1pdCgnZmlsZScsIGRhdHVtKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblRyYW5zZm9ybWVkKCkge1xuXHRcdFx0c2lnbmFscy5lbWl0KCdkb25lJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVtb3ZlTGlzdGVuZXJzLnB1c2goKCkgPT4ge1xuXHRcdFx0Ly8gQmUgZ29vZCBjaXRpemVucyBhbmQgcmVtb3ZlIG91ciBsaXN0ZW5lcnNcblx0XHRcdHRhc2sucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG5cdFx0XHR0YXNrLnJlbW92ZUxpc3RlbmVyKCdndWxwLWNhY2hlOnRyYW5zZm9ybWVkJywgb25UcmFuc2Zvcm1lZCk7XG5cdFx0XHR0YXNrLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25EYXRhKTtcblxuXHRcdFx0Ly8gUmVkdWNlIHRoZSBtYXhMaXN0ZW5lcnMgYmFjayBkb3duXG5cdFx0XHR0YXNrLnNldE1heExpc3RlbmVycyh0YXNrLl9tYXhMaXN0ZW5lcnMgLSBldmVudExpc3RlbmVyc0NvdW50KTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSBgc2lnbmFsc2Bcblx0XHRcdHNpZ25hbHMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBCdW1wIHVwIG1heCBsaXN0ZW5lcnMgdG8gcHJldmVudCBtZW1vcnkgbGVhayB3YXJuaW5nc1xuXHRcdGNvbnN0IGN1cnJNYXhMaXN0ZW5lcnMgPSB0YXNrLl9tYXhMaXN0ZW5lcnMgfHwgMDtcblxuXHRcdHRhc2suc2V0TWF4TGlzdGVuZXJzKGN1cnJNYXhMaXN0ZW5lcnMgKyBldmVudExpc3RlbmVyc0NvdW50KTtcblxuXHRcdHRhc2sub24oJ2RhdGEnLCBvbkRhdGEpO1xuXHRcdHRhc2sub25jZSgnZ3VscC1jYWNoZTp0cmFuc2Zvcm1lZCcsIG9uVHJhbnNmb3JtZWQpO1xuXHRcdHRhc2sub25jZSgnZXJyb3InLCBvbkVycm9yKTtcblxuXHRcdGZpbGUuX2NhY2hlZEtleSA9IGNhY2hlZEtleTtcblxuXHRcdC8vIFJ1biB0aHJvdWdoIHRoZSBvdGhlciB0YXNrIGFuZCBncmFiIG91dHB1dCAob3IgZXJyb3IpXG5cdFx0dGFzay53cml0ZShmaWxlKTtcblxuXHRcdHJldHVybiBzaWduYWxzO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhY2hlIHByb21pc2Ugd3JhcHBlcnMuXG5cdCAqL1xuXG5cdF9hZGRDYWNoZWQoLi4uYXJncykge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuZmlsZUNhY2hlLmFkZENhY2hlZCguLi5hcmdzLCAoZXJyLCByZXMpID0+IHtcblxuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzb2x2ZShyZXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRfZ2V0Q2FjaGVkKC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5vcHRpb25zLmZpbGVDYWNoZS5nZXRDYWNoZWQoLi4uYXJncywgKGVyciwgcmVzKSA9PiB7XG5cblx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc29sdmUocmVzKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0X3JlbW92ZUNhY2hlZCguLi5hcmdzKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMub3B0aW9ucy5maWxlQ2FjaGUucmVtb3ZlQ2FjaGVkKC4uLmFyZ3MsIChlcnIpID0+IHtcblxuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCBQbHVnaW5FcnJvciBmcm9tICdwbHVnaW4tZXJyb3InO1xuaW1wb3J0IHRocm91Z2ggZnJvbSAndGhyb3VnaDInO1xuaW1wb3J0IENhY2hlIGZyb20gJ2NhY2hlLXN3YXAnO1xuaW1wb3J0IEZpbGUgZnJvbSAndmlueWwnO1xuaW1wb3J0IHBpY2sgZnJvbSAnb2JqZWN0LnBpY2snO1xuaW1wb3J0IHsgdmVyc2lvbiBhcyBWRVJTSU9OIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCBUYXNrUHJveHkgZnJvbSAnLi90YXNrLXByb3h5JztcblxuY29uc3QgZmlsZUNhY2hlID0gbmV3IENhY2hlKHsgY2FjaGVEaXJOYW1lOiAnZ3VscC1jYWNoZScgfSk7XG5cbmZ1bmN0aW9uIGRlZmF1bHRLZXkoZmlsZSkge1xuXHRyZXR1cm4gYCR7VkVSU0lPTn0ke2ZpbGUuY29udGVudHMudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRSZXN0b3JlKHJlc3RvcmVkKSB7XG5cblx0aWYgKHJlc3RvcmVkLmNvbnRlbnRzKSB7XG5cdFx0Ly8gSGFuZGxlIG5vZGUgMC4xMSBidWZmZXIgdG8gSlNPTiBhcyBvYmplY3Qgd2l0aCB7IHR5cGU6ICdidWZmZXInLCBkYXRhOiBbLi4uXSB9XG5cdFx0aWYgKHJlc3RvcmVkICYmIHJlc3RvcmVkLmNvbnRlbnRzICYmIEFycmF5LmlzQXJyYXkocmVzdG9yZWQuY29udGVudHMuZGF0YSkpIHtcblx0XHRcdHJlc3RvcmVkLmNvbnRlbnRzID0gbmV3IEJ1ZmZlcihyZXN0b3JlZC5jb250ZW50cy5kYXRhKTtcblx0XHR9IGVsc2Vcblx0XHRpZiAoQXJyYXkuaXNBcnJheShyZXN0b3JlZC5jb250ZW50cykpIHtcblx0XHRcdHJlc3RvcmVkLmNvbnRlbnRzID0gbmV3IEJ1ZmZlcihyZXN0b3JlZC5jb250ZW50cyk7XG5cdFx0fSBlbHNlXG5cdFx0aWYgKHR5cGVvZiByZXN0b3JlZC5jb250ZW50cyA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHJlc3RvcmVkLmNvbnRlbnRzID0gbmV3IEJ1ZmZlcihyZXN0b3JlZC5jb250ZW50cywgJ2Jhc2U2NCcpO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHJlc3RvcmVkRmlsZSA9IG5ldyBGaWxlKHJlc3RvcmVkKTtcblxuXHQvLyBSZXN0b3JlIGFueSBwcm9wZXJ0aWVzIHRoYXQgdGhlIG9yaWdpbmFsIHRhc2sgcHV0IG9uIHRoZSBmaWxlO1xuXHQvLyBidXQgb21pdCB0aGUgbm9ybWFsIHByb3BlcnRpZXMgb2YgdGhlIGZpbGVcblx0T2JqZWN0LmtleXMocmVzdG9yZWQpLmZvckVhY2goKGtleSkgPT4ge1xuXG5cdFx0aWYgKEZpbGUuaXNDdXN0b21Qcm9wKGtleSkpIHtcblx0XHRcdHJlc3RvcmVkRmlsZVtrZXldID0gcmVzdG9yZWRba2V5XTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiByZXN0b3JlZEZpbGU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZShmaWxlKSB7XG5cblx0Y29uc3QgdmlueWxQcm9wcyA9IFsnY3dkJywgJ2Jhc2UnLCAnY29udGVudHMnLCAnc3RhdCcsICdoaXN0b3J5JywgJ3BhdGgnXTtcblx0Y29uc3QgY3VzdG9tUHJvcHMgPSBPYmplY3Qua2V5cyhmaWxlKS5maWx0ZXIoRmlsZS5pc0N1c3RvbVByb3ApO1xuXG5cdC8vIENvbnZlcnQgZnJvbSBhIEZpbGUgb2JqZWN0IChmcm9tIHZpbnlsKSBpbnRvIGEgcGxhaW4gb2JqZWN0XG5cdHJldHVybiBwaWNrKGZpbGUsIFtcblx0XHQuLi52aW55bFByb3BzLFxuXHRcdC4uLmN1c3RvbVByb3BzXG5cdF0pO1xufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcblx0ZmlsZUNhY2hlLFxuXHRuYW1lOiAgICAnZGVmYXVsdCcsXG5cdHN1Y2Nlc3M6IHRydWUsXG5cdGtleTogICAgIGRlZmF1bHRLZXksXG5cdHJlc3RvcmU6IGRlZmF1bHRSZXN0b3JlLFxuXHR2YWx1ZTogICBkZWZhdWx0VmFsdWVcbn07XG5cbnBsdWdpbi5DYWNoZSA9IENhY2hlO1xucGx1Z2luLmZpbGVDYWNoZSA9IGZpbGVDYWNoZTtcbnBsdWdpbi5kZWZhdWx0T3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbHVnaW4odGFzaywgaW5wdXRPcHRpb25zKSB7XG5cdC8vIENoZWNrIGZvciByZXF1aXJlZCB0YXNrIG9wdGlvblxuXHRpZiAoIXRhc2spIHtcblx0XHR0aHJvdyBuZXcgUGx1Z2luRXJyb3IoJ2d1bHAtY2FjaGUnLCAnTXVzdCBwYXNzIGEgdGFzayB0byBjYWNoZSgpJyk7XG5cdH1cblxuXHRjb25zdCBvcHRpb25zID0ge1xuXHRcdC4uLnBsdWdpbi5kZWZhdWx0T3B0aW9ucyxcblx0XHQuLi50YXNrLmNhY2hlYWJsZSxcblx0XHQuLi5pbnB1dE9wdGlvbnNcblx0fTtcblx0Y29uc3QgdGFza1Byb3h5ID0gbmV3IFRhc2tQcm94eSh0YXNrLCBvcHRpb25zKTtcblxuXHRmdW5jdGlvbiBlYWNoKGZpbGUsIGVuYywgbmV4dCkge1xuXG5cdFx0aWYgKGZpbGUuaXNOdWxsKCkpIHtcblx0XHRcdG5leHQobnVsbCwgZmlsZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGZpbGUuaXNTdHJlYW0oKSkge1xuXHRcdFx0bmV4dChuZXcgUGx1Z2luRXJyb3IoJ2d1bHAtY2FjaGUnLCAnQ2Fubm90IG9wZXJhdGUgb24gc3RyZWFtIHNvdXJjZXMnKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2lnbmFscyA9IHRhc2tQcm94eS5wcm9jZXNzRmlsZShmaWxlKTtcblxuXHRcdHNpZ25hbHMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuXHRcdFx0bmV4dChuZXcgUGx1Z2luRXJyb3IoJ2d1bHAtY2FjaGUnLCBlcnIpKTtcblx0XHR9KTtcblxuXHRcdHNpZ25hbHMub24oJ2ZpbGUnLCAoZmlsZSkgPT4ge1xuXHRcdFx0dGhpcy5wdXNoKGZpbGUpO1xuXHRcdH0pO1xuXG5cdFx0c2lnbmFscy5vbignZG9uZScsICgpID0+IHtcblx0XHRcdG5leHQobnVsbCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBmbHVzaChuZXh0KSB7XG5cdFx0dGFza1Byb3h5LmZsdXNoKG5leHQpO1xuXHR9XG5cblx0cmV0dXJuIHRocm91Z2gub2JqKGVhY2gsIGZsdXNoKTtcbn1cblxucGx1Z2luLmNsZWFyID1cbmZ1bmN0aW9uIGNsZWFyKGlucHV0T3B0aW9ucykge1xuXG5cdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0Li4ucGx1Z2luLmRlZmF1bHRPcHRpb25zLFxuXHRcdC4uLmlucHV0T3B0aW9uc1xuXHR9O1xuXHRjb25zdCB0YXNrUHJveHkgPSBuZXcgVGFza1Byb3h5KG51bGwsIG9wdGlvbnMpO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIGVhY2goZmlsZSwgZW5jLCBuZXh0KSB7XG5cblx0XHRpZiAoZmlsZS5pc051bGwoKSkge1xuXHRcdFx0bmV4dChudWxsLCBmaWxlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZmlsZS5pc1N0cmVhbSgpKSB7XG5cdFx0XHRuZXh0KG5ldyBQbHVnaW5FcnJvcignZ3VscC1jYWNoZScsICdDYW5ub3Qgb3BlcmF0ZSBvbiBzdHJlYW0gc291cmNlcycpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgdGFza1Byb3h5LnJlbW92ZUNhY2hlZFJlc3VsdChmaWxlKTtcblx0XHRcdG5leHQobnVsbCwgZmlsZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRuZXh0KG5ldyBQbHVnaW5FcnJvcignZ3VscC1jYWNoZScsIGVycikpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0aHJvdWdoLm9iaihlYWNoKTtcbn07XG5cbnBsdWdpbi5jbGVhckFsbCA9XG5mdW5jdGlvbiBjbGVhckFsbCgpIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRmaWxlQ2FjaGUuY2xlYXIobnVsbCwgKGVycikgPT4ge1xuXG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdChuZXcgUGx1Z2luRXJyb3IoXG5cdFx0XHRcdFx0J2d1bHAtY2FjaGUnLFxuXHRcdFx0XHRcdGBQcm9ibGVtIGNsZWFyaW5nIHRoZSBjYWNoZTogJHtlcnIubWVzc2FnZX1gXG5cdFx0XHRcdCkpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHJlc29sdmUoKTtcblx0XHR9KTtcblx0fSk7XG59O1xuIl0sIm5hbWVzIjpbIndoaXRlc3BhY2VzIiwiZXZlbnRMaXN0ZW5lcnNDb3VudCIsIm1ha2VIYXNoIiwia2V5IiwiY3J5cHRvIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsIlRhc2tQcm94eSIsImNvbnN0cnVjdG9yIiwidGFzayIsImlucHV0T3B0aW9ucyIsIm9wdGlvbnMiLCJfY2FjaGVRdWV1ZSIsIk1hcCIsIl9yZW1vdmVMaXN0ZW5lcnMiLCJwYXRjaFRhc2siLCJfdHJhbnNmb3JtIiwiY2h1bmsiLCJlbmNvZGluZyIsIm5leHQiLCJSZWZsZWN0IiwiYXBwbHkiLCJhcmdzIiwiZW1pdCIsInByb2Nlc3NGaWxlIiwiaW5wdXRGaWxlIiwic2lnbmFscyIsIkV2ZW50RW1pdHRlciIsInByb2Nlc3MiLCJuZXh0VGljayIsIl9wcm9jZXNzRmlsZUFzeW5jIiwiY2FjaGVkIiwiX2NoZWNrRm9yQ2FjaGVkVmFsdWUiLCJjYWNoZWRWYWx1ZSIsInZhbHVlIiwiY2FjaGVkVmFsdWVJc0VtcHR5IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiY2FjaGVkVmFsdWVzV2l0aE5vcm1hbFBhdGhzIiwiZmlsdGVyIiwiZmlsZSIsImd1bHBDYWNoZSRmaWxlUGF0aENoYW5nZWRJbnNpZGVUYXNrIiwiZ3VscENhY2hlJG9yaWdpbmFsUGF0aCIsInBhdGgiLCJndWxwQ2FjaGUkZmlsZUJhc2VDaGFuZ2VkSW5zaWRlVGFzayIsImd1bHBDYWNoZSRvcmlnaW5hbEJhc2UiLCJiYXNlIiwiZm9yRWFjaCIsImNhY2hlZEZpbGUiLCJGaWxlIiwicGljayIsImNvbnRlbnRzIiwiZGVsZXRlUHJvcGVydHkiLCJwdXNoIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiX3J1blByb3hpZWRUYXNrQW5kUXVldWVDYWNoZSIsImZsdXNoIiwiX2ZsdXNoIiwiZXJyIiwicmVtb3ZlIiwiUHJvbWlzZSIsImFsbCIsImZyb20iLCJtYXAiLCJjYWNoZWRLZXkiLCJmaWxlcyIsIl9zdG9yZUNhY2hlZFJlc3VsdCIsInJlbW92ZUNhY2hlZFJlc3VsdCIsIl9nZXRGaWxlS2V5IiwiX3JlbW92ZUNhY2hlZCIsIm5hbWUiLCJnZXRLZXkiLCJjYWNoZU5hbWUiLCJyZXN0b3JlIiwiX2dldENhY2hlZCIsInBhcnNlZENvbnRlbnRzIiwiSlNPTiIsInBhcnNlIiwicGFyc2VkRmlsZSIsInJlc3RvcmVkRmlsZSIsIl9nZXRWYWx1ZUZyb21SZXN1bHQiLCJyZXN1bHQiLCJnZXRWYWx1ZSIsIm1ldGEiLCJzdWNjZXNzIiwiT2JqZWN0IiwiYXNzaWduIiwiQm9vbGVhbiIsIl9hZGRDYWNoZWQiLCJzdHJpbmdpZnkiLCJfcXVldWVDYWNoZSIsIm9yaWdpbmFsQmFzZSIsIm9yaWdpbmFsUGF0aCIsIml0ZW0iLCJjbG9uZSIsImhhcyIsImdldCIsInNldCIsIm9uIiwiX3J1blByb3hpZWRUYXNrIiwiaGFzQ2FjaGVMaXN0ZW5lciIsImxpc3RlbmVyQ291bnQiLCJvbkVycm9yIiwib25EYXRhIiwiZGF0dW0iLCJfY2FjaGVkS2V5Iiwib25UcmFuc2Zvcm1lZCIsInJlbW92ZUxpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwiX21heExpc3RlbmVycyIsImN1cnJNYXhMaXN0ZW5lcnMiLCJvbmNlIiwid3JpdGUiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmlsZUNhY2hlIiwiYWRkQ2FjaGVkIiwicmVzIiwiZ2V0Q2FjaGVkIiwicmVtb3ZlQ2FjaGVkIiwiQ2FjaGUiLCJjYWNoZURpck5hbWUiLCJkZWZhdWx0S2V5IiwiVkVSU0lPTiIsInRvU3RyaW5nIiwiZGVmYXVsdFJlc3RvcmUiLCJyZXN0b3JlZCIsImRhdGEiLCJCdWZmZXIiLCJrZXlzIiwiaXNDdXN0b21Qcm9wIiwiZGVmYXVsdFZhbHVlIiwidmlueWxQcm9wcyIsImN1c3RvbVByb3BzIiwiZGVmYXVsdE9wdGlvbnMiLCJwbHVnaW4iLCJQbHVnaW5FcnJvciIsImNhY2hlYWJsZSIsInRhc2tQcm94eSIsImVhY2giLCJlbmMiLCJpc051bGwiLCJpc1N0cmVhbSIsInRocm91Z2giLCJvYmoiLCJjbGVhciIsImNsZWFyQWxsIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLE1BQU1BLFdBQVcsR0FBRyxDQUFwQjtBQUNBLE1BQU1DLG1CQUFtQixHQUFHLENBQTVCOztBQUVBLFNBQVNDLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCO1NBQ2ZDLE1BQU0sQ0FBQ0MsVUFBUCxDQUFrQixLQUFsQixFQUF5QkMsTUFBekIsQ0FBZ0NILEdBQWhDLEVBQXFD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
